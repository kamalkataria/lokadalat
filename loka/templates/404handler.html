<script>
    var phraseArray = [];

    function randomIndex(arr) {
        return Math.floor(Math.random() * arr.length);
    }

    function completeSentence(arr, loc) {
        let index = randomIndex(arr);
        document.getElementById(loc).innerHTML = "You are " + arr[index];
    }

    $(document).ready(function () {
        // Fetch phrases dynamically via AJAX
        $.ajax({
            url: window.location.href,  // Make the request to the current page
            type: "GET",
            dataType: "json",
            headers: { "X-Requested-With": "XMLHttpRequest" },  // Mark it as an AJAX request
            success: function (data) {
                console.log("Phrases loaded:", data);
                phraseArray = data.phraseArray;

                setInterval(function () {
                    completeSentence(phraseArray, 'randomAdjective');
                }, 200);
            },
            error: function (xhr, status, error) {
                console.error("Failed to load phrases.", error);
                console.error("Response:", xhr.responseText);
            }
        });
    });
</script>

<div class="container" style="width:100%;height:100%;margin:10% auto;">
    <div class="row">
        <div class="col-sm-4">
            <p class="text-warning text-center" style="font-size:10em;">404</p>
        </div>
        <div class="col-sm-4">
            <h2 id="whoAreYou">
                <div onclick="completeSentence(phraseArray, 'randomAdjective')" id="randomAdjective" class="alert alert-primary"></div>
            </h2>
        </div>
        <div class="col-sm-4"></div>
    </div>
</div>
