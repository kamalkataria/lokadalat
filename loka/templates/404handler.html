{% extends "loka/base2.html" %}
{% block content %}

<script>
    var phraseArray = [];

    function randomIndex(arr) {
        return Math.floor(Math.random() * arr.length);
    }

    function completeSentence(arr, loc) {
        let index = randomIndex(arr);
        document.getElementById(loc).innerHTML = "You are " + arr[index];
    }

    $(document).ready(function () {
        // Fetch the phraseArray from the server
        $.ajax({
            url: window.location.href,  // Fetch from the current page URL
            type: "GET",
            dataType: "json",
            headers: { "X-Requested-With": "XMLHttpRequest" },  // Identify as AJAX request
            success: function (data) {
                phraseArray = data.phraseArray;
                setInterval(function () {
                    completeSentence(phraseArray, 'randomAdjective');
                }, 200);
            },
            error: function () {
                console.error("Failed to load phrases.");
            }
        });
    });
</script>

<div class="container" style="width:100%;height:100%;margin:10% auto;">
    <div class="row">
        <div class="col-sm-4">
            <p class="text-warning text-center" style="font-size:10em;">404</p>
        </div>

        <div class="col-sm-4">
            <h2 id="whoAreYou">
                <div onclick="completeSentence(phraseArray, 'randomAdjective')" id="randomAdjective" class="alert alert-primary"></div>
            </h2>
        </div>

        <div class="col-sm-4"></div>
    </div>
</div>

{% endblock content %}
